# 손금 수명 미리보기 QA Workflow Checklist

아래 항목은 `workflow.md`의 토스 비게임 체크리스트와 카메라 권한 예제를 기준으로 손금 수명 미리보기에 맞게 정리한 실행용 목록입니다.

## 1. 기본 동작

- [ ] 앱이 정상적으로 열리고 첫 화면이 `home`으로 시작한다.
- [ ] 홈에서 `손금 찍기 시작` 탭 시 `capture` 화면으로 이동한다.
- [ ] 촬영 후 `결과 분석하기` 탭 시 `result` 화면으로 이동한다.
- [ ] `처음부터 다시` 탭 시 홈으로 복귀하고 상태가 초기화된다.

## 2. 권한/카메라

- [ ] `granite.config.ts`에 `camera/access` 권한이 선언돼 있다.
- [ ] 권한 허용 전 촬영 시 권한 요청 다이얼로그가 표시된다.
- [ ] 권한 거부 상태에서 사용자 안내 문구가 노출된다.
- [ ] 권한 거부 상태에서도 앱이 크래시 없이 동작한다.
- [ ] 권한 허용 후 `openCamera` 촬영 결과가 정상 반영된다.

## 3. UX/내비게이션

- [ ] 토스 내비게이션과 앱 내부 백 버튼이 중복 노출되지 않는다.
- [ ] 탭/전환 반응이 2초 이상 지연되지 않는다.
- [ ] 라이트 모드 기반 UI로 일관되게 동작한다.
- [ ] 시스템 Alert 대신 앱 내 안내 UI를 사용한다.

## 4. 결과/공유

- [ ] 결과 화면에서 4개 지표 점수와 해석이 노출된다.
- [ ] 공유 버튼이 `share`를 통해 네이티브 공유 시트를 연다.
- [ ] `getTossShareLink` 실패 시에도 fallback 메시지 공유가 동작한다.
- [ ] 결과 문구에 오락용 디스클레이머가 포함된다.

## 5. 출시 전 점검

- [ ] `displayName`이 콘솔 앱 이름과 완전히 일치한다.
- [ ] 앱 헤더 명칭이 콘솔 앱 이름과 일치한다.
- [ ] 아이콘 URL이 콘솔 업로드 아이콘과 일치한다.
- [ ] `npm run build`가 오류 없이 완료된다.
- [ ] `docs/privacy.html`, `docs/terms.html`가 존재한다.

## 6. 살충제 패러독스 대응 QA (회차별 변형)

같은 테스트만 반복하면 결함 탐지력이 떨어지므로, 회차마다 데이터/경로/환경을 바꿔 실행한다.

### 회차 A: 권한 상태 전이 중심

- [ ] 첫 진입 `denied` -> 권한 요청 -> `allowed` 전이 확인
- [ ] 첫 진입 `allowed` 상태에서 즉시 촬영 가능 확인
- [ ] `restricted`/`unavailable`에서 안내 문구와 비정상 종료 없음 확인

### 회차 B: 입력 데이터 변형 중심

- [ ] 밝은 배경/어두운 배경/역광 이미지 촬영 각각 결과 생성 확인
- [ ] 손바닥이 프레임에서 일부 잘린 경우 오류 없이 재촬영 유도 확인
- [ ] 연속 10회 촬영 시 메모리 누수/프리징 여부 확인

### 회차 C: 흐름 교란 중심

- [ ] 촬영 중 앱 백그라운드 전환 후 복귀 시 상태 일관성 확인
- [ ] 권한 다이얼로그 취소 후 재시도 시 정상 동작 확인
- [ ] 결과 화면에서 공유 실패/취소 시 사용자 메시지 정상 노출 확인

### 회차 D: 플랫폼/디바이스 다양화 중심

- [ ] iOS 샌드박스 앱에서 권한/촬영/공유 전체 흐름 확인
- [ ] Android 샌드박스 앱에서 권한/촬영/공유 전체 흐름 확인
- [ ] 저사양 기기에서 화면 전환 2초 이내 반응 확인

